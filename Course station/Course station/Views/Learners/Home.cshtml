@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "Learner Home";
    var learnerId = HttpContextAccessor.HttpContext?.Session.GetInt32("LearnerId");
    if (learnerId == null)
    {
        HttpContextAccessor.HttpContext?.Response.Redirect("/Learners/Login");
        return;
    }
}

<link rel="stylesheet" href="~/css/learner-home.css" />
<!-- Include Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

<div class="home-container">
    <h2 class="welcome-text">Welcome to the Learner Homepage</h2>

    <div class="carousel-container">
        <div id="learnerCarousel" class="carousel slide" data-bs-ride="carousel">
            <!-- Carousel indicators -->
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#learnerCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#learnerCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#learnerCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <!-- Carousel items -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="~/images/Welcome.png" alt="Welcome">
                </div>
                <div class="carousel-item">
                    <img src="~/images/Hero_image.webp" alt="Hero Image">
                </div>
                <div class="carousel-item">
                    <img src="~/images/back.webp" alt="Background Image">
                </div>
            </div>
            <!-- Carousel controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#learnerCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#learnerCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <div class="profile-button">
        <a asp-controller="Learners" asp-action="Details" asp-route-id="@learnerId" class="btn-profile">
            View Profile
            <span class="arrow"><i class="fas fa-arrow-right"></i></span>
        </a>
    </div>

    <div class="card-container">
        <div class="card">
            <div class="card-icon"><i class="fas fa-book-open"></i></div>
            <h3>Courses</h3>
            <p>Access your enrolled courses and continue learning.</p>
            <a asp-controller="Learners" asp-action="EnrolledCourses" asp-route-learnerId="@learnerId" class="btn-card">View Enrolled Courses</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-edit"></i></div>
            <h3>Assessments</h3>
            <p>Check your assessments and monitor your progress.</p>
            <a asp-controller="Assessments" asp-action="Index" class="btn-card">View Assessments</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-trophy"></i></div>
            <h3>Leaderboard</h3>
            <p>See where you stand among your peers.</p>
            <a asp-controller="Leaderboard" asp-action="Index" asp-route-learnerId="@learnerId" class="btn-card">View Leaderboard</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-user-circle"></i></div>
            <h3>Profile</h3>
            <p>Update your profile information.</p>
            <a asp-controller="Learners" asp-action="Edit" asp-route-id="@learnerId" class="btn-card">Update Profile</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-graduation-cap"></i></div>
            <h3>Enroll in Course</h3>
            <p>Find and enroll in new courses.</p>
            <a asp-action="Enroll" asp-route-learnerId="@learnerId" class="btn-card">Enroll in Course</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-gamepad"></i></div>
            <h3>Quests</h3>
            <p>Participate in exciting quests.</p>
            <a asp-controller="Learners" asp-action="AvailableQuests" asp-route-learnerId="@learnerId" class="btn-card">Join Quest</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-comment-alt"></i></div>
            <h3>Feedback</h3>
            <p>Give us your valuable feedback.</p>
            <a asp-controller="Learners" asp-action="CreateFeedback" asp-route-learnerId="@learnerId" class="btn-card">Give Feedback</a>
        </div>

        <div class="card">
            <div class="card-icon"><i class="fas fa-bell"></i></div>
            <h3>Notifications</h3>
            <p>View your latest notifications.</p>
            <a asp-controller="Learners" asp-action="Viewinfo" asp-route-learnerId="@learnerId" class="btn-card">View Notifications</a>
        </div>
    </div>
</div>
