@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "Learner Home";
    var learnerId = HttpContextAccessor.HttpContext?.Session.GetInt32("LearnerId");
    if (learnerId == null)
    {
        HttpContextAccessor.HttpContext?.Response.Redirect("/Learners/Login");
        return;
    }
}

<h2>Learner Home</h2>
<div class="welcome-section">
    <p>Welcome to the learner home page!</p>
    <a asp-controller="Learners" asp-action="Viewinfo" asp-route-learnerId="@learnerId" class="notification-btn" style="text-decoration: none;">
        <svg xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 24 24"
             width="24"
             height="24">
            <path fill="none" d="M0 0h24v24H0z"></path>
            <path fill="currentColor"
                  d="M20 17h2v2H2v-2h2v-7a8 8 0 1 1 16 0v7zm-2 0v-7a6 6 0 1 0-12 0v7h12zm-9 4h6v2H9v-2z"></path>
        </svg>
    </a>
</div>
<a asp-controller="Learners" asp-action="Details" asp-route-id="@learnerId" style="text-decoration: none;">
<button class="button">
        View Profile
    <div class="arrow">›</div>
</button>
</a>



<div class="actions">
    <h3>Actions</h3>
    <div class="btn-group-wrap">
        <a asp-controller="Learners" asp-action="EnrolledCourses" asp-route-learnerId="@learnerId" style="text-decoration: none;">
            <button class="button2">
                View Enrolled Courses
                <div class="arrow">›</div>
            </button>
        </a>
        <br>
        <a asp-controller="assessments" asp-action="Index" style="text-decoration: none;">
            <button class="button2">
                View Assessments
                <div class="arrow">›</div>
            </button>
        </a>
<br>
        <a asp-controller="Leaderboard" asp-action="Index" asp-route-learnerId="@learnerId" style="text-decoration: none;">
            <button class="button2">
                View Leaderboard
                <div class="arrow">›</div>
            </button>
        </a>
        <br>
        <a asp-controller="Learners" asp-action="Edit" asp-route-Id="@learnerId" style="text-decoration: none;">
            <button class="button2">
                Update Profile
                <div class="arrow">›</div>
            </button>
        </a>
        <br>
        <a asp-action="Enroll" asp-route-learnerId="@learnerId" style="text-decoration: none;">
            <button class="button2">
                Enroll in Course
                <div class="arrow">›</div>
            </button>
        </a>
        <br>
        <a asp-controller="Quests" asp-action="Index" style="text-decoration: none;">
            <button class="button2">
                Join Quest
                <div class="arrow">›</div>
            </button>
        </a>
        <br>
        <a asp-controller="Learners" asp-action="CreateFeedback" asp-route-learnerId="@learnerId" class="btn btn-custom-red">Give us your feedback</a>
    </div>
</div>

<style>
    .welcome-section {
        display: flex;
        align-items: center; /* Vertically align text and icon */
        justify-content: space-between;
        gap: 10px; /* Add some space between the text and the button */
    }

    .notification-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
    }

        .notification-btn svg {
            width: 24px;
            height: 24px;
            fill: #000; /* Change to your desired color */
        }

        .notification-btn:hover svg {
            fill: #007bff; /* Optional: Change color on hover */
        }

    .actions {
        margin-top: 20px;
    }

    .btn-group-vertical {
        display: flex;
        flex-direction: column;
    }

    .btn-custom-red {
        background-color: red;
        color: white;
    }

    .btn-custom-green {
        background-color: green;
        color: white;
    }

    .btn-group-vertical .btn {
        margin-bottom: 10px;
    }

    .btn-group-wrap {
        display: flex;
        flex-wrap: wrap; /* Allows wrapping to the next line */
        gap: 20px; /* Adds spacing between buttons */
    }
</style>

